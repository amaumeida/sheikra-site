<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Petunia Puzzle Garden</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
font-family:'Segoe UI',Tahoma,Verdana,sans-serif;
background:linear-gradient(135deg,#f5f7fa,#c3cfe2);
min-height:100vh;color:#2d3748
}
.container{max-width:1400px;margin:auto;padding:20px}
.logo-header{text-align:center;margin-bottom:30px}
.logo-header img{max-width:300px;border-radius:12px}

.intro-section{
background:#fff;border-radius:20px;padding:30px;margin-bottom:30px;
box-shadow:0 10px 30px rgba(0,0,0,.1);text-align:center
}
.intro-section h1{font-size:2.2em;margin-bottom:15px}
.intro-section p{max-width:900px;margin:auto;line-height:1.7}

.main-layout{display:grid;grid-template-columns:2fr 1fr;gap:30px}

.game-area,.image-area{
background:#fff;border-radius:20px;padding:30px;
box-shadow:0 10px 30px rgba(0,0,0,.1)
}

.color-controls{background:#f7fafc;border-radius:15px;padding:20px;margin-bottom:25px}
.inventory{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}

.color-btn{
display:flex;flex-direction:column;align-items:center;
padding:10px;border-radius:12px;border:none;cursor:pointer;
background:#fff;min-width:70px;
box-shadow:0 2px 6px rgba(0,0,0,.1)
}
.color-btn:disabled{opacity:.4;cursor:not-allowed}
.color-preview{width:32px;height:32px;border-radius:50%;font-size:20px}

.red{background:#e63946;color:#fff}
.pink{background:#ff69b4;color:#fff}
.white{background:#fff;border:1px solid #ccc}
.purple{background:#7209b7;color:#fff}
.lilac{background:#c77dad;color:#fff}

.garden{display:grid;grid-template-columns:repeat(5,1fr);gap:15px;margin-top:25px}
.pot-container{text-align:center}
.pot-label{font-weight:700;margin-bottom:8px}

.pot{
background:#8b4513;border-radius:0 0 35px 35px;
padding:15px;display:flex;gap:6px;justify-content:center
}
.flower-slot{
width:45px;height:45px;border-radius:50%;
border:2px dashed rgba(255,255,255,.5);
display:flex;align-items:center;justify-content:center;
cursor:pointer;font-size:20px
}
.flower-slot.filled{border:none;cursor:default}

input[type=text]{
width:100%;padding:12px;border-radius:10px;
border:1px solid #cbd5e0;margin-top:10px
}

.action-buttons{text-align:center;margin-top:20px}
.btn{
padding:12px 28px;border-radius:20px;
border:none;cursor:pointer;font-weight:600
}
.btn-primary{background:#667eea;color:#fff}
.btn-primary:disabled{opacity:.5;cursor:not-allowed}

.feedback{
display:none;margin-top:20px;padding:15px;
background:#c6f6d5;border-left:5px solid #48bb78
}
.feedback.show{display:block}

.image-area img{width:100%;border-radius:15px}
</style>
</head>

<body>
<div class="container">

<div class="logo-header">
<img src="https://images.unsplash.com/photo-1562690868-60bbe7293e94?w=800">
</div>

<div class="intro-section">
<h1>The Petunia Puzzle Garden</h1>
<p>
You have <strong>5 flowers of each color</strong> (Red, Pink, White, Purple, Lilac).  
Distribute them across <strong>5 pots</strong>.  
If you use 3 red flowers in Pot 1, you will only have 2 reds left for the remaining pots.
</p>
</div>

<div class="main-layout">

<div class="game-area">

<div class="color-controls">
<div class="inventory">
<button class="color-btn" data-color="red" onclick="selectColor('red')">
<div class="color-preview red">ðŸŒº</div><span id="count-red">5</span>Red
</button>
<button class="color-btn" data-color="pink" onclick="selectColor('pink')">
<div class="color-preview pink">ðŸŒ¸</div><span id="count-pink">5</span>Pink
</button>
<button class="color-btn" data-color="white" onclick="selectColor('white')">
<div class="color-preview white">ðŸŒ¼</div><span id="count-white">5</span>White
</button>
<button class="color-btn" data-color="purple" onclick="selectColor('purple')">
<div class="color-preview purple">ðŸª»</div><span id="count-purple">5</span>Purple
</button>
<button class="color-btn" data-color="lilac" onclick="selectColor('lilac')">
<div class="color-preview lilac">ðŸŒ·</div><span id="count-lilac">5</span>Lilac
</button>
</div>
</div>

<div class="garden" id="garden"></div>

<label>Solana Wallet (required):</label>
<input type="text" id="wallet" placeholder="Your Solana wallet">

<div class="action-buttons">
<button class="btn btn-primary" id="submitBtn" onclick="submitVote()" disabled>
Submit Vote
</button>
</div>

<div class="feedback" id="feedback">
<span id="feedback-text"></span>
</div>

</div>

<div class="image-area">
<img src="https://images.unsplash.com/photo-1598514983318-2f64f8f4796c?w=800">
</div>

</div>
</div>

<script>
const COLORS=['red','pink','white','purple','lilac'];
const EMOJI={red:'ðŸŒº',pink:'ðŸŒ¸',white:'ðŸŒ¼',purple:'ðŸª»',lilac:'ðŸŒ·'};
const MAX=5,POTS=5;

let pots=[[],[],[],[],[]];
let stock={red:5,pink:5,white:5,purple:5,lilac:5};
let selectedPot=0;

function init(){
const g=document.getElementById('garden');
g.innerHTML='';
for(let i=0;i<POTS;i++){
let d=document.createElement('div');
d.className='pot-container';
d.innerHTML=`<div class="pot-label">Pot ${i+1}</div><div class="pot" onclick="selectPot(${i})"></div>`;
g.appendChild(d);
}
render();
}
function render(){
document.querySelectorAll('.pot').forEach((p,i)=>{
p.innerHTML='';
for(let j=0;j<5;j++){
let s=document.createElement('div');
s.className='flower-slot';
if(pots[i][j]){
s.classList.add('filled');
s.innerText=EMOJI[pots[i][j]];
s.onclick=e=>{e.stopPropagation();remove(i,j)};
}else{
s.innerText='+';
s.onclick=e=>{e.stopPropagation();selectPot(i)};
}
p.appendChild(s);
}
});
COLORS.forEach(c=>{
document.getElementById('count-'+c).innerText=stock[c];
document.querySelector(`[data-color="${c}"]`).disabled=stock[c]==0;
});
document.getElementById('submitBtn').disabled=!pots.every(p=>p.length===5);
}
function selectPot(i){selectedPot=i}
function selectColor(c){
if(stock[c]==0||pots[selectedPot].length>=5)return;
pots[selectedPot].push(c);stock[c]--;render();
}
function remove(p,i){
let c=pots[p][i];
pots[p].splice(i,1);stock[c]++;render();
}
function submitVote(){
let w=document.getElementById('wallet').value.trim();
if(!w){alert('Wallet required');return;}
fetch('send-email.php',{
method:'POST',
headers:{'Content-Type':'application/json'},
body:JSON.stringify({wallet:w,pots})
}).then(()=> {
document.getElementById('feedback-text').innerText='Vote sent successfully!';
document.getElementById('feedback').classList.add('show');
});
}
init();
</script>

</body>
</html>
